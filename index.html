<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vizcachas - Come and Try!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .bg-team {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                        url('./VDB_Penang2022.jpg'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .brand-bg { background-color: #273C31; }
        .brand-border-focus:focus { border-color: #273C31; }
    </style>
</head>
<body class="bg-team min-h-screen flex flex-col items-center justify-between p-4 text-white font-sans">

    <div class="w-full relative flex flex-col items-center pt-4 md:pt-8">
        <img src="./VDB%20Logo_green%20bg%20v1.1.png" alt="Vizcachas Logo" class="absolute top-0 right-0 w-16 h-16 md:w-24 md:h-24 object-contain">
        
        <div class="text-center mt-16 md:mt-0">
            <h1 class="text-3xl sm:text-4xl md:text-6xl font-black tracking-tighter uppercase italic leading-none whitespace-nowrap">
                COME AND TRY!
            </h1>
        </div>
    </div>

    <div class="bg-white/95 backdrop-blur-sm p-6 md:p-8 rounded-2xl shadow-2xl w-full max-w-md text-gray-900 my-4">
        <form id="joinForm" class="space-y-4">
            <div>
                <label class="block text-xs font-bold uppercase text-gray-500">Full Name</label>
                <input type="text" id="name" name="name" required class="w-full border-b-2 border-gray-300 py-2 brand-border-focus outline-none transition bg-transparent">
            </div>
            <div class="flex gap-4">
                <div class="w-1/2">
                    <label class="block text-xs font-bold uppercase text-gray-500">Weight (kg)</label>
                    <input type="number" id="weight" name="weight" required class="w-full border-b-2 border-gray-300 py-2 brand-border-focus outline-none transition bg-transparent">
                </div>
                <div class="w-1/2">
                    <label class="block text-xs font-bold uppercase text-gray-500">Height (cm)</label>
                    <input type="number" id="height" name="height" required class="w-full border-b-2 border-gray-300 py-2 brand-border-focus outline-none transition bg-transparent">
                </div>
            </div>
            <div>
                <label class="block text-xs font-bold uppercase text-gray-500">Email Address</label>
                <input type="email" id="email" name="email" required class="w-full border-b-2 border-gray-300 py-2 brand-border-focus outline-none transition bg-transparent">
            </div>

            <button type="submit" id="submitBtn" class="w-full brand-bg hover:opacity-90 text-white font-black py-4 rounded-lg uppercase tracking-widest transition transform active:scale-95 mt-2">
                Submit Information
            </button>
        </form>

        <div id="successArea" class="hidden text-center space-y-4 mt-4">
            <p class="text-green-800 font-bold italic">Welcome to the Vizcachas! See you at the dock.</p>
            <button onclick="window.location.reload()" class="text-xs brand-text font-bold uppercase tracking-widest border border-[#273C31] px-4 py-2 rounded hover:bg-gray-100 transition">
                Register Another Person
            </button>
        </div>
    </div>

    <div class="text-center mb-8">
        <h2 class="text-3xl sm:text-4xl md:text-6xl font-black tracking-tighter uppercase italic leading-tight whitespace-nowrap">
            FIRST SESSION IS ON US!
        </h2>
    </div>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbwNjpfY9IlaZgd1YwpWTlZ9CqYE277thAIUphQH0aTzrtwX1K2rVTD7BVXkt74_8TOM/exec'; 
const form = document.getElementById('joinForm');
const btn = document.getElementById('submitBtn');
const successArea = document.getElementById('successArea');

form.addEventListener('submit', e => {
    e.preventDefault();
    btn.disabled = true;
    btn.innerText = 'SENDING...';

    // We use URLSearchParams to simulate a standard form submission
    const params = new URLSearchParams(new FormData(form));

    fetch(scriptURL, { 
        method: 'POST', 
        mode: 'no-cors', // MUST stay as no-cors
        body: params 
    })
    .then(() => {
        // Since no-cors doesn't return a readable response, 
        // we assume success if the fetch doesn't 'catch' an error.
        form.classList.add('hidden');
        successArea.classList.remove('hidden');
    })
    .catch(err => {
        console.error('Submission error:', err);
        alert('Check connection and try again.');
        btn.disabled = false;
        btn.innerText = 'SUBMIT INFORMATION';
    });
});
    </script>
</body>
</html>